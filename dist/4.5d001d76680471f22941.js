(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{214:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(5),l=a(3),o=a(11),r=a(2),m=a.n(r),i=a(54),u=a.n(i),d=a(23),p=a(12),E=a(22),f=a(4),b=a(14);t.default=Object(c.g)((function(e){const[t,a]=Object(n.useState)(!0),{id:r}=Object(c.f)(),i=Object(n.useContext)(f.a),h=Object(n.useContext)(b.a),[g,y]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=m.a.CancelToken.source();return async function(){try{const t=await m.a.get("/post/"+r,{CancelToken:e.token});console.log(t.data),y(t.data),a(!1)}catch(e){console.log("THERE WAS A PROBLEM")}}(),()=>e.cancel()},[]);const w=new Date(g.createdDate),N=`${w.getDate()}/${w.getMonth()+1}/${w.getFullYear()}`;return t||g?t?s.a.createElement(p.a,null):s.a.createElement(o.a,{title:"Post-"+g.title},s.a.createElement("div",{className:"container container--narrow py-md-5"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h2",null,g.title),g.author.username==i.user.username&&s.a.createElement("span",{className:"pt-2"},s.a.createElement(l.b,{to:`/post/${g._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement(d.a,{id:"edit"}),s.a.createElement("a",{onClick:async()=>{try{const t=await m.a.delete("post/"+r,{data:{token:i.user.token}});console.log(t),"Success"==t.data&&(h({type:"flashMessage",value:"Post has been deleted successfully"}),e.history.push("/profile/"+i.user.username))}catch(e){console.log("Something went wrong")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},s.a.createElement("i",{className:"fas fa-trash"})),s.a.createElement(d.a,{id:"delete",className:"custom-tooltip"}))),s.a.createElement("p",{className:"text-muted small mb-4"},s.a.createElement(l.b,{to:"/profile/"+g.author.username},s.a.createElement("img",{className:"avatar-tiny",src:g.author.avatar})),"Posted by ",s.a.createElement(l.b,{to:"/profile/"+g.author.username},g.author.username)," on ",N),s.a.createElement("div",{className:"body-content"},s.a.createElement(u.a,{source:g.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))):s.a.createElement(E.a,null)}))}}]);